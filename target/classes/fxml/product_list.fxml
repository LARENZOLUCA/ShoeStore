<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<VBox spacing="10" xmlns="http://javafx.com/javafx/17"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.shoestore.controller.ProductListController"
      style="-fx-background-color: #FFFFFF;">

    <padding>
        <Insets top="20" right="20" bottom="20" left="20"/>
    </padding>

    <!-- Верхняя панель с информацией о пользователе -->
    <HBox alignment="CENTER_RIGHT">
        <Label fx:id="userInfoLabel" style="-fx-font-size: 14px;">
            <font>
                <Font name="Times New Roman" size="14"/>
            </font>
        </Label>
        <Button text="Выйти" onAction="#handleLogout"
                style="-fx-background-color: #7FFF00; -fx-text-fill: black; -fx-font-size: 12px;"
                HBox.hgrow="NEVER">
            <HBox.margin>
                <Insets left="10"/>
            </HBox.margin>
        </Button>
    </HBox>

    <!-- Панель поиска и фильтрации (для менеджера и админа) -->
    <VBox fx:id="searchPanel" spacing="10" visible="false" managed="false">
        <Label text="Поиск и фильтрация:" style="-fx-font-weight: bold;">
            <font>
                <Font name="Times New Roman" size="14"/>
            </font>
        </Label>

        <HBox spacing="10" alignment="CENTER_LEFT">
            <TextField fx:id="searchField" promptText="Поиск..." HBox.hgrow="ALWAYS"
                       style="-fx-font-family: 'Times New Roman'; -fx-font-size: 14px;"/>

            <ComboBox fx:id="supplierFilter" promptText="Все поставщики"
                      style="-fx-font-family: 'Times New Roman'; -fx-font-size: 14px;"/>

            <ComboBox fx:id="sortCombo" promptText="Сортировка"
                      style="-fx-font-family: 'Times New Roman'; -fx-font-size: 14px;"/>
        </HBox>
    </VBox>

    <!-- Таблица товаров -->
    <TableView fx:id="productTable" VBox.vgrow="ALWAYS">
        <columns>
            <TableColumn fx:id="photoColumn" text="Фото" prefWidth="100"/>
            <TableColumn fx:id="nameColumn" text="Наименование" prefWidth="150"/>
            <TableColumn fx:id="categoryColumn" text="Категория" prefWidth="120"/>
            <TableColumn fx:id="descriptionColumn" text="Описание" prefWidth="200"/>
            <TableColumn fx:id="manufacturerColumn" text="Производитель" prefWidth="120"/>
            <TableColumn fx:id="supplierColumn" text="Поставщик" prefWidth="120"/>
            <TableColumn fx:id="priceColumn" text="Цена" prefWidth="100"/>
            <TableColumn fx:id="unitColumn" text="Ед. изм." prefWidth="60"/>
            <TableColumn fx:id="stockColumn" text="Кол-во" prefWidth="60"/>
            <TableColumn fx:id="discountColumn" text="Скидка %" prefWidth="70"/>
        </columns>
        <columnResizePolicy>
            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
        </columnResizePolicy>
    </TableView>

    <!-- Кнопки для администратора -->
    <HBox fx:id="adminPanel" spacing="10" alignment="CENTER_RIGHT" visible="false" managed="false">
        <Button text="Добавить товар" onAction="#handleAddProduct"
                style="-fx-background-color: #00FA9A; -fx-text-fill: black;"/>
        <Button text="Редактировать" onAction="#handleEditProduct"
                style="-fx-background-color: #7FFF00; -fx-text-fill: black;"/>
        <Button text="Удалить" onAction="#handleDeleteProduct"
                style="-fx-background-color: #FF6B6B; -fx-text-fill: black;"/>
    </HBox>

    <!-- Кнопки для менеджера (просмотр заказов) -->
    <HBox fx:id="managerPanel" spacing="10" alignment="CENTER_RIGHT" visible="false" managed="false">
        <Button text="Просмотр заказов" onAction="#handleViewOrders"
                style="-fx-background-color: #7FFF00; -fx-text-fill: black;"/>
    </HBox>

</VBox>